{% extends 'student_page/student_base.html' %}
{% load static %}

{% block title %}Káº¿t quáº£ ná»™p bÃ i{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/code_submission_result.css' %}">
{% endblock %}

{% block banner %}
<div class="banner">
  <span>
    <b>ÄÃ£ ná»™p bÃ i: {{ assignment.tieu_de }}</b>
    <span class="course-code">CS466</span>
  </span>
  <span class="right">
    Thá»i gian ná»™p: {{ submission_time|date:"d/m/Y H:i" }}
  </span>
</div>
{% endblock %}

{% block content %}
<div class="submission-container">
  
  <!-- ThÃ´ng bÃ¡o thÃ nh cÃ´ng -->
  <div class="success-notification">
    <div class="success-icon">âœ…</div>
    <h2 class="success-title">Ná»™p bÃ i thÃ nh cÃ´ng!</h2>
    <p class="success-message">BÃ i táº­p code cá»§a báº¡n Ä‘Ã£ Ä‘Æ°á»£c ghi nháº­n</p>
  </div>

  <!-- ThÃ´ng tin bÃ i táº­p -->
  <div class="assignment-info">
    <h3 class="info-title">ThÃ´ng tin bÃ i táº­p</h3>
    <div class="info-grid">
      <div class="info-item">
        <p><strong>TÃªn bÃ i táº­p:</strong> {{ assignment.tieu_de }}</p>
        <p><strong>Loáº¡i:</strong> {{ assignment.get_loai_baitap_display }}</p>
      </div>
      <div class="info-item">
        <p><strong>NgÃ´n ngá»¯ sá»­ dá»¥ng:</strong> {{ language|capfirst }}</p>
        <p><strong>Thá»i gian ná»™p:</strong> {{ submission_time|date:"d/m/Y H:i" }}</p>
      </div>
    </div>
  </div>

  <!-- Code Ä‘Ã£ ná»™p -->
  <div class="code-section">
    <h3 class="info-title">Code Ä‘Ã£ ná»™p</h3>
    <div class="code-display">
      <pre>{{ submitted_code }}</pre>
    </div>
  </div>

  <!-- ThÃ´ng tin thÃªm -->
  <div class="notice-section">
    <h4 class="notice-title">ğŸ“ LÆ°u Ã½:</h4>
    <ul class="notice-list">
      <li>BÃ i táº­p cá»§a báº¡n Ä‘Ã£ Ä‘Æ°á»£c lÆ°u thÃ nh cÃ´ng</li>
      <li>GiÃ¡o viÃªn sáº½ cháº¥m vÃ  pháº£n há»“i trong thá»i gian sá»›m nháº¥t</li>
      <li>Báº¡n cÃ³ thá»ƒ xem káº¿t quáº£ cháº¥m bÃ i trong pháº§n "Danh sÃ¡ch bÃ i táº­p"</li>
      <li>Náº¿u cÃ³ tháº¯c máº¯c, vui lÃ²ng liÃªn há»‡ giÃ¡o viÃªn</li>
    </ul>
  </div>

  <!-- Thá»‘ng kÃª -->
  <div class="stats-grid">
    <div class="stat-card characters">
      <div class="stat-value characters">{{ submitted_code|length }}</div>
      <div class="stat-label">KÃ½ tá»±</div>
    </div>
    <div class="stat-card lines">
      <div class="stat-value lines">{{ submitted_code|linebreaksbr|length }}</div>
      <div class="stat-label">DÃ²ng code</div>
    </div>
    <div class="stat-card language">
      <div class="stat-value language">{{ language|capfirst }}</div>
      <div class="stat-label">NgÃ´n ngá»¯</div>
    </div>
  </div>

  <!-- NÃºt hÃ nh Ä‘á»™ng -->
  <div class="action-buttons">
    <a href="{% url 'studentapp:assignment_list' %}" class="btn-primary">
      ğŸ“‹ Quay láº¡i danh sÃ¡ch bÃ i táº­p
    </a>
    <a href="{% url 'studentapp:ide_online' %}" class="btn-success">
      ğŸ’» IDE Online
    </a>
  </div>
</div>
{% endblock %}
