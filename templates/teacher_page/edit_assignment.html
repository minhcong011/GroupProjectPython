{% extends 'teacher_page/gv_base.html' %}
{% block title %}Chỉnh sửa bài tập{% endblock %}
{% block content %}
<h2>Chỉnh sửa bài tập</h2>
<form method="post">
    {% csrf_token %}
    {{ form.as_p }}
    <button type="submit" class="btn btn-success">Lưu thay đổi</button>
    <a href="{% url 'assignment_list' %}" class="btn btn-secondary">Hủy</a>
</form>

<!-- Danh sách câu hỏi thuộc bài tập này -->
<h3 style="margin-top:32px;">Câu hỏi trong bài tập</h3>
<a href="{% url 'add_questions' assignment.id %}" class="btn btn-success" style="margin-bottom:12px;">+ Thêm câu hỏi</a>
<table style="width:100%; margin-top: 12px;">
    <tr>
        <th>Nội dung</th>
        <th>Đáp án đúng</th>
        <th>Chức năng</th>
    </tr>
    {% for question in assignment.cau_hoi.all %}
    <tr>
        <td>{{ question.noi_dung }}</td>
        <td>{{ question.dap_an_dung }}</td>
        <td>
            <a href="{% url 'edit_question' question.id %}" class="btn btn-warning btn-sm" style="font-size:13px;">Sửa</a>
            <a href="{% url 'delete_question' question.id %}" class="btn btn-danger btn-sm" style="font-size:13px;">Xóa</a>
        </td>
    </tr>
    {% empty %}
    <tr><td colspan="3">Chưa có câu hỏi nào.</td></tr>
    {% endfor %}
</table>
{% endblock %}
